CREATE DATABASE MYCOWAY;
USE MYCOWAY;

CREATE TABLE SUPPLIER (
SPL_ID INT NOT NULL, 
SPL_TEL VARCHAR(15),
SPL_ADD VARCHAR(50),
SPL_PCODE VARCHAR(10),
SPL_CITY VARCHAR(50),
SPL_STATE VARCHAR(20),
PRIMARY KEY (SPL_ID)
);

-- SOUTHERN REGION
INSERT INTO SUPPLIER VALUES(1001, '03-95438801', 'Tingkat 13, Menara Johor Corporation','81100', 'Johor Bahru', 'Johor');

-- CENTRAL REGION
INSERT INTO SUPPLIER VALUES(1002, '08-24225442', 'No 3 Blok A Kelana Centre Point 352B', '46000', 'Petaling Jaya', 'Selangor');

-- NORTHERN REGION
INSERT INTO SUPPLIER VALUES(1003, '03-52185270', 'No 2 Laluan Perusahaan Kledang 7', '31350' , 'Ipoh', 'Perak');

-- EASTERN REGION
INSERT INTO SUPPLIER VALUES(1004, '03-90764155', 'Lot 12A, Kawasan Perindustrian Gebeng', '25300', 'Kuantan', 'Pahang');

-- SABAH/SARAWAK REGION
INSERT INTO SUPPLIER VALUES(1005, '03-87016634', '2 Wisma Ung Hwa Geok 2F Jln Kulas Utara 2', '93000', 'Kuching', 'Sarawak');

CREATE TABLE AGENT (
AGN_ID INT NOT NULL, 
AGN_NAME VARCHAR(50),
AGN_TEL VARCHAR(15),
AGN_AREA VARCHAR(20),
AGN_HIRE_DATE DATE,
SPL_ID INT NOT NULL,
PRIMARY KEY (AGN_ID),
FOREIGN KEY (SPL_ID) REFERENCES SUPPLIER (SPL_ID)
);

-- SOUTHERN REGION
INSERT INTO AGENT VALUES(20167865, 'Abdullah Tee', '011-23706693', 'Southern Region', '2016-02-09', 1001);
INSERT INTO AGENT VALUES(20205621, 'Zambri Hazlin', '019-6511325', 'Southern Region', '2020-05-14',1001);

-- CENTRAL REGION
INSERT INTO AGENT VALUES(20070356, 'Amira Suhada', '016-6527439', 'Central Region', '2007-06-13', 1002);
INSERT INTO AGENT VALUES(20216354, 'Hawa Khadijah', '017-6593959', 'Central Region', '2021-09-08', 1002);

-- NORTHERN REGION
INSERT INTO AGENT VALUES(20235412, 'John Sivalingam', '019-6511325', 'Northern Region', '2023-05-14', 1003);
INSERT INTO AGENT VALUES(20186753, 'Jane Hashan', '016-6527439', 'Northern Region', '2018-06-13', 1003);

-- EASTERN REGION
INSERT INTO AGENT VALUES(20109054, 'Nandakumar a/l Santhara', '017-6593959', 'Eastern Region', '2010-09-08', 1004);
INSERT INTO AGENT VALUES(20090873, 'Lok Tew Yen', '010-5521460', 'Eastern Region', '2009-10-11', 1004);

-- SABAH/SARAWAK REGION
INSERT INTO AGENT VALUES(20134577,'Nii Low Thai', '010-5521460', 'Sabah/Sarawak Region', '2013-10-11', 1005);
INSERT INTO AGENT VALUES(20055579,'Syed Adib Azril', '011-23706693', 'Sabah/Sarawak Region', '2005-02-09', 1005);

CREATE TABLE CUSTOMER (
CUST_IC VARCHAR(15) NOT NULL,
CUST_NAME VARCHAR(35),
CUST_TEL VARCHAR(15),
CUST_ADD VARCHAR(50),
CUST_PCODE VARCHAR(10),
CUST_CITY VARCHAR(50),
CUST_STATE VARCHAR(20),
AGN_ID INT NOT NULL,
PRIMARY KEY (CUST_IC),
FOREIGN KEY (AGN_ID) REFERENCES AGENT (AGN_ID)
);

-- SOUTHERN REGION
INSERT INTO CUSTOMER VALUES('941118-13-6306', 'Hanis Syakirah', '017-6593959', 'Jalan Bukit Kempas 1/2,Taman Bukit Kempas', '81200', 'Johor Bharu', 'Johor', 20205621); -- 20167865
INSERT INTO CUSTOMER VALUES('890219-01-5138', 'Kevin Sau Ta Tiong' ,'012-6847394', 'Jalan Bacang 2,Taman Kota Masai', '81700', 'Pasir Gudang', 'Johor',20205621);
INSERT INTO CUSTOMER VALUES('020107-03-0545', 'Zhang Xun Yen', '010-9461305', 'No. 393 C Jalan Semabok', '75050', 'Jasin', 'Melaka', 20205621);
INSERT INTO CUSTOMER VALUES('860119-02-0884', 'Muhammad Aliff', '012-3852000', '14-1 Jalan PJ 18 Taman Pertam Jaya', '75050', 'Semabok', 'Melaka', 20205621);
INSERT INTO CUSTOMER VALUES('871126-02-2126', 'Nadhir Nasar', '012-3190828', 'No. 26 Jalan Bayan, Taman Bukit Katil', '75450', 'Ayer Keroh', 'Melaka', 20205621);

-- CENTRAL REGION
INSERT INTO CUSTOMER VALUES('780410-13-5307', 'Danish Ukail', '013-9329012', 'Jalan USJ 19/4A, UEP', '47620', 'Subang Jaya','Selangor', 20070356);
INSERT INTO CUSTOMER VALUES('000808-01-5332', 'Jamal Karim', '016-6527439', '5 Jln 17/56 Seksyen 17', '46400', 'Petaling Jaya', 'Selangor', 20070356);
INSERT INTO CUSTOMER VALUES('990121-04-5055', 'Sutheaswari a/l Indi', '016-6858784', 'Lot Batu 1 1/4, Jalan Langat', '41200', 'Klang', 'Selangor', 20070356);
INSERT INTO CUSTOMER VALUES('981228-07-6367', 'Amin Aqif Hakimi', '011-23706693', 'Jalan Lorong  11', '46200', 'Petaling Jaya', 'Selangor', 20070356);
INSERT INTO CUSTOMER VALUES('040209-01-0345','Adam Syauqi', '010-5521460', 'Jalan Bukit Mentari 7', '46000', 'Petaling Jaya', 'Selangor', 20070356);
INSERT INTO CUSTOMER VALUES('900408-07-7453','Aiman Abdullah', '014-9848674', ' 42 Jln Bunga Tanjong 2', '70450' , 'Seremban', 'Negeri Sembilan', 20216354);
INSERT INTO CUSTOMER VALUES('920526-03-0907', 'Nurin Afiqah', '011-8172591', '25 Jalan Semarak 4 Taman Panchor', '70400', 'Seremban', 'Negeri Sembilan', 20216354);

-- NORTHERN REGION
INSERT INTO CUSTOMER VALUES('890219-12-5585', 'Adar Syafiqul', '019-6511325', 'A 11 Jln Sri Ampang Taman Jaya', '31350', 'Ipoh', 'Perak', 20235412);
INSERT INTO CUSTOMER VALUES('990217-04-0906', 'Amni Nabila', '019-9817626', 'Jalan Tembusu 7, Taman Rinting', '21300', 'Ipoh', 'Perak',20235412);
INSERT INTO CUSTOMER VALUES('991117-14-0967', 'Muhammad Fikri', '011-13220146', 'Batu 3, Jalan Maharaja Lela', '36000', 'Teluk Intan', 'Perak', 20235412);
INSERT INTO CUSTOMER VALUES('951124-10-0701', 'Rayyan Yusri', '016-6858784', '25 Lrg 20 Taman Petani Jaya', '08000', 'Sungai Petani', 'Kedah', 20186753);
INSERT INTO CUSTOMER VALUES('880130-03-3115', 'Aqilah Mirza', '011-6294651', '18 Jalan Senangin 6 Taman', '02000', 'Kuala Perlis', 'Perlis', 20186753);
INSERT INTO CUSTOMER VALUES('890229-03-2787', 'Nurul Farwizah', '011-8547046', 'No 33, Taman Mutiara Height', '01000', 'Kangar', 'Perlis', 20186753);

-- EASTERN REGION
INSERT INTO CUSTOMER VALUES('010901-12-5164', 'Noreen Afiqah', '012-2586759', 'Tingkat 1, Lorong Tun Ismail 6', '25000', 'Kuantan', 'Pahang', 20109054);
INSERT INTO CUSTOMER VALUES('870724-10-9879', 'Aiman zidan', '013-63339980', '5701 Kawasan Miel Lundang Jalan Sultan Yahya Putra', '15150', 'Kota Bharu', 'Kelantan', 20109054);
INSERT INTO CUSTOMER VALUES('910427-03-5811', 'Nur Aqilah', '011-3890165', 'Kg. Banggol Saman Kok Lanas', '16450', 'Ketereh', 'Kelantan', 20109054);
INSERT INTO CUSTOMER VALUES('830910-02-0356', 'Muhammad Irsyad', '012-6378180', 'Taman Baiduri, Geliga Besar', '24000', 'Chukai', 'Terengganu', 20090873);
INSERT INTO CUSTOMER VALUES('841220-02-9194', 'Muhammad Ilham', '012-9704151', '1570-A Lorong Rahmat, Bukit Besar', '21100', 'Kuala Terengganu', 'Terengganu', 20090873);
INSERT INTO CUSTOMER VALUES('850317-02-0435', 'Muhammad Hafetz', '012-2254625', 'No. Pt 8950, Taman Suria Paka', '23100', 'Paka', 'Terengganu', 20090873);

-- SABAH/SARAWAK REGION
INSERT INTO CUSTOMER VALUES('780118-01-4432', 'Amirah Sabrina', '010-2004664', 'Lot 1 Block J Bandar Ramai-Ramai Jalan Leila', 90709, 'Sandakan', 'Sabah', 20134577);
INSERT INTO CUSTOMER VALUES('800615-01-4667', 'Aina Radhiah', '010-4769233', 'Lorong Rimba 4, Taman Rimba Ph1', '88000', 'Menggatal', 'Sabah', 20134577);
INSERT INTO CUSTOMER VALUES('900328-03-0122', 'Dahlia Rizal', '011-2873851', 'Lot 1, ground floor, Taman Iramanis', '88450', 'Kota Kinabalu', 'Sabah', 20134577);
INSERT INTO CUSTOMER VALUES('791023-01-5156', 'Sofea Shahira', '010-6325848', 'No. 116 Taman Sri Dagang Jalan Abang Galau', '97000', 'Bintulu', 'Sarawak', 20055579);
INSERT INTO CUSTOMER VALUES('810915-01-9213', 'Aida Radhiah', '010-2865190', 'No. 1039 1St Floor Jln Sungai Maong Tengah', '93150', 'Kuching', 'Sarawak', 20055579);
INSERT INTO CUSTOMER VALUES('820407-01-3135', 'Aisya Radhiah', '010-2324146', 'Jalan Jee Foh Utama, Krokop 1', '98000', 'Miri', 'Sarawak', 20055579);

CREATE TABLE COWAY (
CWY_SRL_NO VARCHAR(10) NOT NULL, 
CWY_CATEGORY VARCHAR(15),
CWY_PRICE DECIMAL(9,2),
SPL_ID INT NOT NULL,
PRIMARY KEY (CWY_SRL_NO),
FOREIGN KEY (SPL_ID) REFERENCES SUPPLIER (SPL_ID)
);

-- SOUTHERN REGION
INSERT INTO COWAY VALUES('WP-6200N', 'Water Purifier', 2260.00, 1001);
INSERT INTO COWAY VALUES('AP-5721L', 'Air Purifier', 7070.00, 1001);

-- CENTRAL REGION
INSERT INTO COWAY VALUES('WP-264L', 'Water Purifier', 3340.00, 1002);
INSERT INTO COWAY VALUES('AP-7310R', 'Air Purifier', 6220.00, 1002);

-- NORTHERN REGION
INSERT INTO COWAY VALUES('WP-6310L', 'Water Purifier', 3490.00, 1003);
INSERT INTO COWAY VALUES('AP-1523D', 'Air Purifier', 3580.00, 1003);

-- EASTERN REGION
INSERT INTO COWAY VALUES('WP-18AR', 'Water Purifier', 3580.00, 1004);
INSERT INTO COWAY VALUES('AP-1018F', 'Air Purifier', 5660.00, 1004);

-- SABAH/SARAWAK REGION
INSERT INTO COWAY VALUES('WP-590N', 'Water Purifier', 3960.00, 1005);
INSERT INTO COWAY VALUES('AP-6320R', 'Air Purifier', 4520.00,  1005);

CREATE TABLE BUY (
CUST_IC VARCHAR(15) NOT NULL,
CWY_SRL_NO VARCHAR(10) NOT NULL,
BUY_QTY INT,
PRIMARY KEY (CUST_IC, CWY_SRL_NO),
FOREIGN KEY (CUST_IC) REFERENCES CUSTOMER (CUST_IC),
FOREIGN KEY (CWY_SRL_NO) REFERENCES COWAY (CWY_SRL_NO)
);

-- SOUTHERN REGION
INSERT INTO BUY VALUES('941118-13-6306', 'WP-6200N', 1);
INSERT INTO BUY VALUES('941118-13-6306', 'AP-5721L', 4);
INSERT INTO BUY VALUES('890219-12-5585', 'AP-5721L', 3);
INSERT INTO BUY VALUES('020107-03-0545', 'WP-6200N', 1);
INSERT INTO BUY VALUES('860119-02-0884', 'WP-6200N', 2);
INSERT INTO BUY VALUES('860119-02-0884', 'AP-5721L', 1);
INSERT INTO BUY VALUES('871126-02-2126', 'WP-6200N', 2);

-- CENTRAL REGION
INSERT INTO BUY VALUES('780410-13-5307', 'WP-264L', 2);
INSERT INTO BUY VALUES('780410-13-5307', 'AP-7310R', 4);
INSERT INTO BUY VALUES('000808-01-5332', 'AP-7310R', 1);
INSERT INTO BUY VALUES('990121-04-5055', 'WP-264L', 1);
INSERT INTO BUY VALUES('990121-04-5055', 'AP-7310R', 1);
INSERT INTO BUY VALUES('981228-07-6367', 'AP-7310R', 4);
INSERT INTO BUY VALUES('040209-01-0345', 'WP-264L', 2);
INSERT INTO BUY VALUES('900408-07-7453', 'AP-7310R', 2);
INSERT INTO BUY VALUES('920526-03-0907', 'WP-264L', 2);
INSERT INTO BUY VALUES('920526-03-0907', 'AP-7310R', 2);

-- NORTHERN REGION
INSERT INTO BUY VALUES('890219-01-5138', 'WP-6310L', 1);
INSERT INTO BUY VALUES('990217-04-0906', 'AP-1523D', 2);
INSERT INTO BUY VALUES('991117-14-0967', 'WP-6310L', 1);
INSERT INTO BUY VALUES('991117-14-0967', 'AP-1523D', 3);
INSERT INTO BUY VALUES('951124-10-0701', 'AP-1523D', 3);
INSERT INTO BUY VALUES('880130-03-3115', 'WP-6310L', 1);
INSERT INTO BUY VALUES('880130-03-3115', 'AP-1523D', 4);
INSERT INTO BUY VALUES('890229-03-2787', 'AP-1523D', 1);

-- EASTERN REGION
INSERT INTO BUY VALUES('010901-12-5164', 'WP-18AR', 1);
INSERT INTO BUY VALUES('870724-10-9879', 'AP-1018F', 1);
INSERT INTO BUY VALUES('910427-03-5811', 'WP-18AR', 2);
INSERT INTO BUY VALUES('910427-03-5811', 'AP-1018F', 1);
INSERT INTO BUY VALUES('830910-02-0356', 'AP-1018F', 3);
INSERT INTO BUY VALUES('841220-02-9194', 'WP-18AR', 3);
INSERT INTO BUY VALUES('841220-02-9194', 'AP-1018F', 3);
INSERT INTO BUY VALUES('850317-02-0435', 'WP-18AR', 2);
INSERT INTO BUY VALUES('850317-02-0435', 'AP-1018F', 4);

-- SABAH/SARAWAK REGION
INSERT INTO BUY VALUES('780118-01-4432', 'WP-590N', 2);
INSERT INTO BUY VALUES('800615-01-4667', 'WP-590N', 2);
INSERT INTO BUY VALUES('800615-01-4667', 'AP-6320R', 2);
INSERT INTO BUY VALUES('900328-03-0122', 'WP-590N', 1);
INSERT INTO BUY VALUES('791023-01-5156', 'WP-590N', 3);
INSERT INTO BUY VALUES('791023-01-5156', 'AP-6320R', 2);
INSERT INTO BUY VALUES('810915-01-9213', 'WP-590N', 1);
INSERT INTO BUY VALUES('820407-01-3135', 'AP-6320R', 4);

CREATE TABLE INVOICE (
INV_NO INT NOT NULL,
CUST_IC VARCHAR(15) NOT NULL,
AGN_ID INT NOT NULL,
SPL_ID INT NOT NULL,
INV_DATE DATE,
PRIMARY KEY (INV_NO, CUST_IC),
FOREIGN KEY (CUST_IC) REFERENCES CUSTOMER (CUST_IC),
FOREIGN KEY (AGN_ID) REFERENCES AGENT (AGN_ID),
FOREIGN KEY (SPL_ID) REFERENCES SUPPLIER (SPL_ID)
);

-- SOUTHERN REGION
INSERT INTO INVOICE VALUES(101, '941118-13-6306', 20205621, 1001, '2023-03-27');
INSERT INTO INVOICE VALUES(102, '890219-12-5585', 20205621, 1001, '2023-07-01');
INSERT INTO INVOICE VALUES(103, '020107-03-0545', 20205621, 1001, '2023-01-19');
INSERT INTO INVOICE VALUES(104, '860119-02-0884', 20205621, 1001, '2020-05-13');
INSERT INTO INVOICE VALUES(105, '871126-02-2126', 20205621, 1001, '2021-11-20');

-- CENTRAL REGION
INSERT INTO INVOICE VALUES(106, '780410-13-5307', 20070356, 1002, '2023-05-14');
INSERT INTO INVOICE VALUES(107, '000808-01-5332', 20070356, 1002, '2023-06-13');
INSERT INTO INVOICE VALUES(108, '990121-04-5055', 20070356, 1002, '2023-07-04');
INSERT INTO INVOICE VALUES(109, '981228-07-6367', 20070356, 1002, '2023-03-18');
INSERT INTO INVOICE VALUES(110, '040209-01-0345', 20070356, 1002, '2023-06-09');
INSERT INTO INVOICE VALUES(111, '900408-07-7453', 20216354, 1002, '2023-06-29');
INSERT INTO INVOICE VALUES(112, '920526-03-0907', 20216354, 1002, '2023-07-24');

-- NORTHERN REGION
INSERT INTO INVOICE VALUES(113, '890219-01-5138', 20235412, 1003, '2023-10-09');
INSERT INTO INVOICE VALUES(114, '990217-04-0906', 20235412, 1003, '2023-08-12');
INSERT INTO INVOICE VALUES(115, '991117-14-0967', 20235412, 1003, '2023-10-12');
INSERT INTO INVOICE VALUES(116, '951124-10-0701', 20186753, 1003, '2023-09-15');
INSERT INTO INVOICE VALUES(117, '880130-03-3115', 20186753, 1003, '2022-01-03');
INSERT INTO INVOICE VALUES(118, '890229-03-2787', 20186753, 1003, '2023-01-16');

-- EASTERN REGION
INSERT INTO INVOICE VALUES(119, '010901-12-5164', 20109054, 1004, '2023-06-21');
INSERT INTO INVOICE VALUES(120, '870724-10-9879', 20109054, 1004, '2023-07-11');
INSERT INTO INVOICE VALUES(121, '910427-03-5811', 20109054, 1004, '2023-12-15');
INSERT INTO INVOICE VALUES(122, '830910-02-0356', 20090873, 1004, '2018-06-06');
INSERT INTO INVOICE VALUES(123, '841220-02-9194', 20090873, 1004, '2020-09-15');
INSERT INTO INVOICE VALUES(124, '850317-02-0435', 20090873, 1004, '2020-03-04');

-- SABAH/SARAWAK REGION
INSERT INTO INVOICE VALUES(125, '780118-01-4432', 20134577, 1005, '2015-10-14');
INSERT INTO INVOICE VALUES(126, '800615-01-4667', 20134577, 1005, '2016-01-29');
INSERT INTO INVOICE VALUES(127, '900328-03-0122', 20134577, 1005, '2023-01-20');
INSERT INTO INVOICE VALUES(128, '791023-01-5156', 20055579, 1005, '2016-01-10');
INSERT INTO INVOICE VALUES(129, '810915-01-9213', 20055579, 1005, '2018-03-06');
INSERT INTO INVOICE VALUES(130, '820407-01-3135', 20055579, 1005, '2018-12-07');

CREATE TABLE INCLUDE (
INV_NO INT NOT NULL,
CWY_SRL_NO VARCHAR(10) NOT NULL,
PRIMARY KEY (INV_NO, CWY_SRL_NO),
FOREIGN KEY (INV_NO) REFERENCES INVOICE (INV_NO),
FOREIGN KEY (CWY_SRL_NO) REFERENCES COWAY (CWY_SRL_NO)
);

-- SOUTHERN REGION
INSERT INTO INCLUDE VALUES(101, 'WP-6200N');
INSERT INTO INCLUDE VALUES(102, 'WP-6200N');
INSERT INTO INCLUDE VALUES(102, 'AP-5721L');
INSERT INTO INCLUDE VALUES(103, 'WP-6200N');
INSERT INTO INCLUDE VALUES(104, 'WP-6200N');
INSERT INTO INCLUDE VALUES(104, 'AP-5721L');
INSERT INTO INCLUDE VALUES(105, 'WP-6200N');

-- CENTRAL REGION
INSERT INTO INCLUDE VALUES(106, 'WP-264L');
INSERT INTO INCLUDE VALUES(106, 'AP-7310R');
INSERT INTO INCLUDE VALUES(107, 'AP-7310R');
INSERT INTO INCLUDE VALUES(108, 'WP-264L');
INSERT INTO INCLUDE VALUES(108, 'AP-7310R');
INSERT INTO INCLUDE VALUES(109, 'AP-7310R');
INSERT INTO INCLUDE VALUES(110, 'WP-264L');
INSERT INTO INCLUDE VALUES(111, 'AP-7310R');
INSERT INTO INCLUDE VALUES(112, 'WP-264L');
INSERT INTO INCLUDE VALUES(112, 'AP-7310R');

-- NORTHERN REGION
INSERT INTO INCLUDE VALUES(113, 'WP-6310L');
INSERT INTO INCLUDE VALUES(114, 'AP-1523D');
INSERT INTO INCLUDE VALUES(115, 'WP-6310L');
INSERT INTO INCLUDE VALUES(115, 'AP-1523D');
INSERT INTO INCLUDE VALUES(116, 'AP-1523D');
INSERT INTO INCLUDE VALUES(117, 'WP-6310L');
INSERT INTO INCLUDE VALUES(117, 'AP-1523D');
INSERT INTO INCLUDE VALUES(118, 'AP-1523D');

-- EASTERN REGION
INSERT INTO INCLUDE VALUES(119, 'WP-18AR');
INSERT INTO INCLUDE VALUES(120, 'AP-1018F');
INSERT INTO INCLUDE VALUES(121, 'WP-18AR');
INSERT INTO INCLUDE VALUES(121, 'AP-1018F');
INSERT INTO INCLUDE VALUES(122, 'AP-1018F');
INSERT INTO INCLUDE VALUES(123, 'WP-18AR');
INSERT INTO INCLUDE VALUES(123, 'AP-1018F');
INSERT INTO INCLUDE VALUES(124, 'WP-18AR');
INSERT INTO INCLUDE VALUES(124, 'AP-1018F');

-- SABAH/SARAWAK REGION
INSERT INTO INCLUDE VALUES(125, 'WP-590N');
INSERT INTO INCLUDE VALUES(126, 'WP-590N');
INSERT INTO INCLUDE VALUES(126, 'AP-6320R');
INSERT INTO INCLUDE VALUES(127, 'WP-590N');
INSERT INTO INCLUDE VALUES(128, 'WP-590N');
INSERT INTO INCLUDE VALUES(128, 'AP-6320R');
INSERT INTO INCLUDE VALUES(129, 'WP-590N');
INSERT INTO INCLUDE VALUES(130, 'AP-6320R');